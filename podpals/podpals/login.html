<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
        <title>PodPals</title>

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

        <!-- FontAwesome icons stylesheet -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

        <!-- Fonts stylesheet -->
        <link href="https://fonts.googleapis.com/css?family=Pacifico|Oswald" rel="stylesheet">

        <!-- Stylesheet specific to this page -->
        <link rel="stylesheet" href="styles/login.css">

        <!-- Firebase initialization snippet -->
        <!--   <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
<script>
// Initialize Firebase
var config = {
apiKey: "AIzaSyCH0uH5-ziVD13x0HKvmIWl79nCNK0a8AU",
authDomain: "podpals-lehigh.firebaseapp.com",
databaseURL: "https://podpals-lehigh.firebaseio.com",
projectId: "podpals-lehigh",
storageBucket: "podpals-lehigh.appspot.com",
messagingSenderId: "978319693833"
};
firebase.initializeApp(config);

</script>

<!-- Inclusion of FirebaseUI -->
        <!-- <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" /> -->
    </head>

    <body>
        <!-- TOP NAV BAR (common across all pages) -->
        <nav class="navbar navbar-dark fixed-top">
            <a class="navbar-brand" href="#"><img src="styles/site-images/podpals_logo_round.png"></a>
        </nav>
        <!-- END TOP NAV BAR  -->

        <main role="main" class="container-fluid">

            <!-- SIGNUP FORM -->
            <form id="userSignupForm">
                <div class="form-group">
                    <label for="userfirstname">First name</label>
                    <input type="text" name="userfirstname" class="form-control" id="firstNameInput" placeholder="First name">               
                </div>
                <div class="form-group">
                    <label for="userlastname">Last name</label>
                    <input type="text" name="userlastname" class="form-control" id="lastNameInput" placeholder="Last name">
                </div>
                <div class="form-group">
                    <label for="useremail">Email address</label>
                    <input type="email" class="form-control" id="emailInput" aria-describedby="emailHelp" name="useremail" placeholder="Enter email">
                </div>
                <!--
<div class="form-group">
<label for="userpassword">Password</label>
<input type="password" name="userpassword" class="form-control" id="passwordInput" placeholder="Password">
</div>
-->
                <button type="submit" id="signupButton" class="btn btn-primary interaction">Create Account</button>
            </form>
            <!-- END SIGNUP FORM -->

            <!-- LOGIN FORM -->
            <form id="userAuthForm" action="login.php" method="post">
                <div class="form-group">
                    <label for="useremail">Email address</label>
                    <input type="email" class="form-control" id="loginEmailInput" aria-describedby="emailHelp" name="useremail" placeholder="Enter email">
                </div>
                <!--
<div class="form-group">
<label for="userpassword">Password</label>
<input type="password" name="userpassword" class="form-control" id="loginPasswordInput" placeholder="Password">
</div>
-->
                <button type="submit" id="loginButton" class="btn btn-primary interaction">Login</button>
                <a id="createAccountLink" onclick="openSignupForm()">Need to create an account?</a>
            </form>
            <!-- END LOGIN FORM -->

        </main>
        <!-- /.container -->

        <!-- Bootstrap core JavaScript
================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <!-- Script to run upon user login 
NOTE:*****(Where in the FirebaseUI code/setup does the call to this function need to be?)*****
-If this is the first time the user is logging in, push their info to the database so we can associate their groups, albums, photos, etc. accordingly, and get last ID to set a session variable containing user ID.
-If it is a returning login, pull their user ID from the database to store as a session variable so we can pull their content accordingly. -->
        <!-- <script>
function onLogin(user) {
console.log("Logging in as user: ");

/* AJAX call to database */
$.ajax({
url: "http://podpals.hopto.org/login.php",
type: "POST",
data: {
user_first_name: userfirstname, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S FIRST NAME HERE
user_last_name: userlastname, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S LAST NAME HERE
user_email: useremail, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S EMAIL HERE
user_propic_path: userpropic // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S PROFILE PIC (i.e. Google pic) HERE
},
success: function(data) {
var dataParsed = JSON.parse(data);
console.log(dataParsed);
// If successful, redirect user to their dashboard
window.href.location = "/";
}
});
};

</script> -->
        <script>
            $(function() {
                var userfirstname = $("#firstNameInput");
                var userlastname = $("#lastNameInput");
                var useremail = $("#emailInput");

                $("#signupButton").click(function() {
                    var firstname = userfirstname.val();
                    var lastname = userlastname.val();
                    var email = useremail.val();
                    /* AJAX call to database */
                    $.ajax({
                        url: "./login.php",
                        type: "POST",
                        data: {
                            user_first_name: firstname, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S FIRST NAME HERE
                            user_last_name: lastname, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S LAST NAME HERE
                            user_email: email // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S EMAIL HERE
                            //           user_propic_path: userpropic // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S PROFILE PIC (i.e. Google pic) HERE
                        },
                        success: function(data) {
                            // If successful, redirect user to their dashboard
                            //  window.href.location = "/";
                            window.location.href = "./index.php";
                        }
                    });
                });                
            });


            /* Function to open the signup form, when the user clicks the link to create an account (instead of logging in) */
            function openSignupForm() {
                $("#userAuthForm").fadeOut(500);
                setTimeout(function() {
                    $("#userSignupForm").fadeIn(500);
                }, 500);
            };
            function onLogin() {
                console.log("Logging in as user: " + useremail.value);
                /* AJAX call to database */
                $.ajax({
                    url: "./login.php",
                    type: "POST",
                    data: {
                        user_first_name: userfirstname.value, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S FIRST NAME HERE
                        user_last_name: userlastname.value, // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S LAST NAME HERE
                        user_email: useremail.value // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S EMAIL HERE
                        //           user_propic_path: userpropic // NAME OF THE ACTUAL FIREBASE UI AUTH VARIABLE FOR USER'S PROFILE PIC (i.e. Google pic) HERE
                    },
                    success: function(data) {
                        console.log(data);
                        // If successful, redirect user to their dashboard
                        //  window.href.location = "/";
                    }
                });
            };

        </script>
    </body>

</html>
